(set main (do [] ':i32 [
    (set add2 (do [x ':i32] ':i32 [
        (return (+ 3 x))
    ]))

    (print (add2 3) 'nl)

    (set make-adder (do [x ':i32] ':function [
        (return (do [y ':i32] ':i32 [
            (return (+ x y))
        ]))
    ]))

    (set add4 (make-adder 4))
    (print (add4 3) 'nl)

    (print ((make-adder 5) 2) 'nl)
    (return 0)
]))

