<h1>4c (foresee) programming language</h1>

<p><em>Foresee: To see beforehand</em></p>

<h2>Overview</h2>

<p><strong>4c</strong> is an imperitive (not functional) language with a LISP-like syntax<br/>
<strong>4cc</strong> (the 4c compiler) compiles 4c code to GNU assembly (GAS)</p>

<h2>Syntax</h2>

<h3>Basics</h3>

<p>; comments follow semicolons</p>

<h3>Constants</h3>

<p>-9..9<strong>.</strong>9..9 .. 9..9<strong>.</strong>9..9<br/>
&ldquo;string constant&rdquo;</p>

<h3>Identifiers</h3>

<p>TODO: Gory academic details</p>

<h3>Built-in type names</h3>

<p>&lsquo;function<br/>
'number<br/>
'number-array<br/>
'string <br/>
'boolean</p>

<h3>Built-in constants</h3>

<p>&lsquo;nil<br/>
'true<br/>
'false<br/>
'spc$<br/>
'nl$</p>

<h3>Variables</h3>

<p>number-var<br/>
number-array-var.<br/>
boolean-var^<br/>
string-var$<br/>
:type-name<br/>
:type-name:instance-name<br/>
:type-name:instance-name.var-instance</p>

<h3>Program structure</h3>

<p>(function-name arg_1 .. arg_n)<br/>
[list-item_1 .. list-item_n]</p>

<h2>Built-in functions</h2>

<p>(<strong>def</strong> <em>var-name</em> <em>value</em>)<br/>
description: reference <em>value</em> with the variable <em>var-name</em><br/>
returns: &lsquo;nil</p>

<p>(<strong>set</strong> <em>var-name</em> <em>value</em>)<br/>
description: assign <em>value</em> to the variable referenced by <em>var-name</em><br/>
returns: &lsquo;nil</p>

<p>(def-type :type-name [var-list]) &lsquo;nil<br/>
(do [arg-list] [fn-list] default-return-value) -> 'function instance<br/>
(return value-for-do) -> 'nil<br/>
(if ('function->'boolean) [true-fn-list] [false-fn-list]) -> 'nil<br/>
(while ('function->'boolean) [fn-list] [per-loop fn-list]) -> 'nil<br/>
(print value) -> 'nil<br/>
(input) -> 'string instance<br/>
(and bool bool) -> <br/>
(or bool bool) -> bool<br/>
(not bool) -> bool
(+ num num) -> num<br/>
(- num num) -> num<br/>
(* num num) -> num<br/>
(/ num num) -> num<br/>
(% num num) -> num<br/>
(= num num) -> bool
(!= num num) -> bool<br/>
(> num num) -> bool<br/>
(&lt; num num) -> bool<br/>
(&lt;= num num) -> bool<br/>
(>= num num) -> bool<br/>
(str-copy target-string-var source-string) -> bool<br/>
(str-from char-number) -> string<br/>
(str-add string string) -> string<br/>
(str-cmp string string) -> bool<br/>
(new :type var [extra-args]) -> bool<br/>
(del :type var [extra-args]) -> bool</p>

<p>(def :type.new (do [:type:this extra-param-vars] [alloc/init :type:this.vars]))<br/>
(def :type.del (do [:type:this extra-param-vars] [dealloc/deinit :type:this.vars]))</p>

<h2>Internals</h2>

<h3>&lsquo;function type</h3>

<p>function name<br/>
function argument names and types<br/>
memory label</p>

<h3>&lsquo;number type</h3>

<p>TODO RIGHT</p>

<h3>&lsquo;number-array type</h3>

<p>TODO</p>

<h3>&lsquo;string type</h3>

<p>memory address (if dynamic) or memory label (if static)
length in bytes</p>

<h3>&lsquo;boolean type</h3>

<p>var name<br/>
truth flag</p>

<hr />

<h2>Credits</h2>

<p>Â© 2021 Richard A. Benson <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#98;&#101;&#110;&#115;&#111;&#110;&#57;&#49;&#52;&#55;&#55;&#64;&#112;&#114;&#111;&#116;&#111;&#110;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#114;&#105;&#99;&#104;&#97;&#114;&#100;&#98;&#101;&#110;&#115;&#111;&#110;&#57;&#49;&#52;&#55;&#55;&#64;&#112;&#114;&#111;&#116;&#111;&#110;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a><br></p>
