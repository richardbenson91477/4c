4c programming language - version 1.0 specification
===
_Foresee: To see beforehand_

## About this document

This is an **early draft**

The HTML for this document was generated by [discount](https://www.pell.portland.or.us/~orc/Code/discount).

## Overview
**4c** is an imperitive _(as opposed to functional)_ programming language with a LISP-like syntax.  
4c aims to be easily reasoned about by a programmer, while maintaining high performance.

**4cc** (the reference 4c compiler) compiles 4c code.  

This document describes the 4c language; its syntax, standard built-in types, functions, constants, and so on.  

### Rationale
<font color="#ff4020">TODO: rationalize my hobby  </font>

### Potential benefits
  * LISP-like syntax rather than the standard "Algol family" syntax.  

### Potential drawbacks
  * LISP-like syntax rather than the standard "Algol family" syntax.  

## Syntax
### Basic program structure
; **Comments** follow semicolons  

**Function calls** take the following form:  
(function-name _arg**1**_ .. _arg**n**_)
 
Where  

  * _function-name_ specifies a built-in function or a variable of type #:func
  * _arg_ is any of the following:

    -   An _inner_ function call which returns a result to its _outer_ function  
        Example: (add-i **(add-i 1 1)** 2)

    -   A list  
        Example: [3 x 'false (add-i y z)]

    -   A constant  
        Examples: 3 "Hello" 'nl

    -   A variable name  
        Examples: x my-string-var

**Lists** of values take the following form:  
[_list-item_**1**_ .. _list-item_**n**_]  

Where _list-item_ is any of the follwing:  

  * A function call
  * An _inner_ list
  * A constant
  * A variable name

### Constants

Number constants without decimal point (type #:int):

  *  -9..9 .. 0 .. 9..9

Number constants with decimal point (type #:float):

  *  -9..9**.**9..9 .. 0 .. 9..9**.**9..9

String constants (type #:str):

  *  "This is a string"

Predefined constants:

  *  'nil (empty value)  
  *  'true (#:bool true)  
  *  'false (#:bool false)  
  *  'spc (blank-space #:str)  
  *  'nl (newline #:str)  

### Predefined type names

  *  \#:nil (empty type)  
  *  \#:func (function)  
  *  \#:list (list)  
  *  \#:type (type reference)
  *  \#:const (number or string constant)
  *  \#:var (variable)
  *  \#:int (signed 64-bit integer)  
  *  \#:float (64-bit floating point number)  
  *  \#:bool (boolean 'true or 'false)  
  *  \#:str (string)  
  *  \#:pconst (pre-defined constant)
  *  \#:utype (user-defined type)

### User-defined types

  * **:**type-name  
        Names beginning with a colon (:) have their own type (see _def-type_).  
        Example: :employee (a user-defined type named :employee)  

## Predefined functions

**Note:** various predefined function names use the following shorthand for predefined types:

  * **i**: #:int  
  * **f**: #:float  
  * **l**: #:list  
  * **s**: #:str  

### (print-_type_ _value_)  
Description: Print a representation of _value_ to standard output  
Returns: 'nil  
Example: (**print-s** "Hello, world!")  
> Hello, world!

Example: (**print-i** 3)
> 3  

### (add-_type_ _val1_ _val2_)  
Description: Return the sum of the two values _val1_ and _val2_  
Returns: value of type _type_  
Example: (print-i (**add-i** 6 3))  
> 9  

Example: (print-i (**add-i** (**add-i** 1 2) 3))  
> 6  

### (set-_type_ _var-name_ _value_)  
Description: reference _value_ (of type _type_) using the variable _var-name_  
Returns: 'nil  
Example: (**set-i** x (add-i 1 2)) (print-i x)  
> 3  

### (if _condiiton_ [true-fns] [false-fns]) -> 'nil  
Description: if boolean value _condition_ (type #:bool) is true, execute true-fns; otherwise execute false-fns  
Returns: 'nil  
Example: (**if** (eq-i 1 1) [(print-s "one is one")] [(print-s "we've got a bigger problem")])
> one is one

### (do [_args_] _type_ [_fn-list_])
Description: create a function that executes _fn-list_, using variable/type pair list _args_  
Returns: function (type #:func) that returns a value of type _type_  
Example: (**do** [x #:int y #:int] #:int [(return-i (add-i x y))])   
> (function that returns the sum of integers x and y)  

### (return-_type_ _value_) -> 'nil  
Description: Return _value_ from the current function  
Returns: 'nil  
Example: (do [x #:int y #:int] #:int [(**return-i** (add-i x y))])  
> (function that returns the sum of integers x and y)  

(while _condition_ [main-fn-list] [per-loop-fn-list]) -> 'nil  

(input) -> #:str  
(str-from-char _char_) -> value of type #:str  

(sub-_type_ _val1_ _val2_) -> value of type _type_  
(mul-_type_ _val1_ _val2_) -> value of type _type_  
(div-_type_ _val1_ _val2_) -> value of type _type_  
(mod-_type_ _val1_ _val2_) -> value of type _type_  

(and _bool1_ _bool2_) -> value of type #:bool  
(or _bool1_ _bool2_) -> value of type #:bool  
(not _bool_) -> value of type #:bool  

(eq-_type_ _val1_ _val2_) -> value of type #:bool  
(neq-_type_ _val1_ _val2_) -> value of type #:bool  
(gt-_type_ _val1_ _val2_) -> value of type #:bool  
(gte-_type_ _val1_ _val2_) -> value of type #:bool  
(lt-_type_ _val1_ _val2_) -> value of type #:bool  
(lte-_type_ _val1_ _val2_) -> value of type #:bool  

(new _type-name_) -> #:bool  
(del-_type_ _instance_) -> #:bool  
(dup-_type_ _value_) -> value of type _type_  
(def-type :type-name [var-list]) -> 'nil  

## Credits

### Authors
Richard A. Benson <richardbenson91477@protonmail.com><br>

### Special thanks to  
<font color="#ff4020">TODO: be more thankful  </font>

## Legal stuff

###This license applies to all code in this repository except where otherwise specified.

This is free and unencumbered software released into the public domain.

Anyone is free to copy, modify, publish, use, compile, sell, or
distribute this software, either in source code form or as a compiled
binary, for any purpose, commercial or non-commercial, and by any
means.

In jurisdictions that recognize copyright laws, the author or authors
of this software dedicate any and all copyright interest in the
software to the public domain. We make this dedication for the benefit
of the public at large and to the detriment of our heirs and
successors. We intend this dedication to be an overt act of
relinquishment in perpetuity of all present and future rights to this
software under copyright law.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

For more information, please refer to <http://unlicense.org/>

